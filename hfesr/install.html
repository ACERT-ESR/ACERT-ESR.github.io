<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Installation &mdash; 95 GHz ESR Software 0.9 documentation</title>
    
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.9',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="95 GHz ESR Software 0.9 documentation" href="index.html" />
    <link rel="next" title="Spectrometer" href="spectrometer.html" />
    <link rel="prev" title="Welcome to 95 GHz ESR’s documentation!" href="index.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="spectrometer.html" title="Spectrometer"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Welcome to 95 GHz ESR’s documentation!"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">95 GHz ESR Software 0.9 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="installation">
<h1>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h1>
<div class="section" id="requirements">
<h2>Requirements<a class="headerlink" href="#requirements" title="Permalink to this headline">¶</a></h2>
<p>This software should work with Python 2.4, 2.5, 2.6, or 2.7.</p>
<p>You must install these modules:</p>
<ul>
<li><p class="first">numpy</p>
<p>After installing numpy, put its header files into an include path
for the C compiler so that they can be found when compiling the Chase
and Acqiris extension modules. Here are two examples of where
the numpy objectarray.h file should be found, but put all the header
files there.</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">/usr/include/python2.4/numpy/objectarray.h</span></code></li>
<li><code class="docutils literal"><span class="pre">$HOME/lib/include/python2.4/numpy/objectarray.h</span></code></li>
</ul>
<p>If the numpy module was installed by <code class="docutils literal"><span class="pre">easy_install,</span></code> as described
below, then the header files will be inside of the installation egg
inside of the Python library directory.</p>
<p>If you use the Enthought Python distribution, then numpy is included.</p>
</li>
<li><p class="first">distutils, if you are using Python 2.4.</p>
</li>
<li><p class="first">Python Gnuplot module</p>
</li>
<li><p class="first">Gnu Plotutils. Install the regular GNU Plotutils and ensure that
libplot.so is in the LD_LIBRARY_PATH. Then install python-libplot,
which is a sub-piece of the Biggles plotting library but installed
separately.</p>
</li>
<li><p class="first">sphinx, if you are using Python before 2.6.</p>
</li>
</ul>
<p>To install Python modules for all users, use the command:</p>
<div class="highlight-python"><div class="highlight"><pre>sudo easy_install numpy
</pre></div>
</div>
<p>To install modules for just one user, try:</p>
<div class="highlight-python"><div class="highlight"><pre>easy_install --prefix=$HOME numpy
</pre></div>
</div>
<p>The chase_da module depends on drivers for the Chase DWG11000 card.
The Acqiris module depends on its own drivers.</p>
</div>
<div class="section" id="download">
<h2>Download<a class="headerlink" href="#download" title="Permalink to this headline">¶</a></h2>
<p>The code is stored in CVS repositories  under a SourceForge project called ACERT-HFESR at <a class="reference external" href="https://forge.cornell.edu">Cornell&#8217;s SourceForge</a>. There are four repositories.</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">https://forge.cornell.edu/svn/repos/python-acqiris</span></code>&#8212;Python module to use Acqiris Linux drivers</li>
<li><code class="docutils literal"><span class="pre">https://forge.cornell.edu/svn/repos/python-chase_da</span></code>&#8212;Python interface to Chase DWG11000</li>
<li><code class="docutils literal"><span class="pre">https://forge.cornell.edu/svn/repos/python-hfesr</span></code>&#8212;High Frequency Electron Spin Resonance</li>
<li><code class="docutils literal"><span class="pre">https://forge.cornell.edu/svn/repos/python-spinapi</span></code>&#8212;Python module to access SpinAPI for the SpinCore PulseBlaster card</li>
</ul>
<p>The HFESR repository has three main directories, trunk, tags, and branches. This is customary for SVN. The trunk is the current working copy. Branches represent versions of the code that develop new functionality, to later merge to the trunk, and tags mark versions of the code that are important to find easily.</p>
<p>The code is a combination of the four Python modules mentioned above. Those for Acqiris, Chase, and SpinAPI are Python extension modules, which means they contain C code which helps Python to call card drivers written in C. All of the modules install into the same basic namespace, called computer{acert}.</p>
<p>To install the code on a machine for the first time, check out each of the four modules and use the Python installation scripts. The following includes <code class="docutils literal"><span class="pre">--prefix=\$HOME</span></code> to install in a user&#8217;s directory. Without that addition, this will install to the system directory.:</p>
<div class="highlight-python"><div class="highlight"><pre>svn co https://forge.cornell.edu/svn/repos/python-acqiris/trunk acqiris
cd acqiris
python setup.py install --prefix=$HOME
cd ..
svn co https://forge.cornell.edu/svn/repos/python-chase\_da/trunk chase
cd chase
python setup.py install --prefix=$HOME
cd ..
svn co https://forge.cornell.edu/svn/repos/python-spinapi spinapi
cd spinapi
python setup.py install --prefix=$HOME
cd ..
svn co https://forge.cornell.edu/svn/repos/python-hfesr/trunk hfesr
cd hfesr
python setup.py install --prefix=$HOME
</pre></div>
</div>
<p>If these modules are installed as shown above, they will be located in <code class="docutils literal"><span class="pre">$HOME/lib/python2.4/site-packages/acert.</span></code> If they are installed to the system location by a root user, they will likely be in <code class="docutils literal"><span class="pre">/usr/lib/python2.4/site-packages/acert.</span></code></p>
<p>It is possible that the chase_da module will install into a different
directory from the others because it is an extension module. Python 2.4,
on some systems, will put extensions installed as root into
<code class="docutils literal"><span class="pre">/usr/lib64/python2.4/site-packages/acert/chase_da</span></code> whereas the other
modules install into
<code class="docutils literal"><span class="pre">/usr/lib/python2.4/site-packages/acert/chase_da</span></code>. If this happens,
and the PYTHONPATH environment variable is set to
<code class="docutils literal"><span class="pre">/usr/lib/python2.4/site-packages</span></code> then the chase_da extension will
not be found. It won&#8217;t work to set the PYTHONPATH to point to both
directories, either. Just copy the chase_da directory from under
lib64 to the same place under the lib directory.</p>
<p>The SpinCore PulseBlaster card will not work unless the <code class="docutils literal"><span class="pre">_run_spinapi_as_root</span></code>
script can be suid root, meaning that a user, such as the acert user, has
permissions set in the sudoers file to run this script as root.</p>
<p>If the code is in the main Python system location, it can be called by any user.:</p>
<div class="highlight-python"><div class="highlight"><pre>% python
Python 2.4.3 (#1, Dec 11 2006, 11:39:03)
[GCC 4.1.1 20061130 (Red Hat 4.1.1-43)] on linux2
Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.
&gt;&gt;&gt; from acert.hfesr import Experiments, Spectrometer
&gt;&gt;&gt; FID = Experiments.FID()
</pre></div>
</div>
<p>If the code is in a user&#8217;s directory, then that user has to set an environment variable called PYTHONPATH in order to see it, <code class="docutils literal"><span class="pre">export</span> <span class="pre">PYTHONPATH=$HOME/lib/python2.4/site-packages.</span></code> This is set in .bashrc for the Bash shell.</p>
<p>If you want to modify code and re-run it, then the typical set of steps is:</p>
<ol class="arabic simple">
<li>Check out the code to a directory.</li>
<li>Modify files in that directory.</li>
<li>Run <code class="docutils literal"><span class="pre">python</span> <span class="pre">setup.py</span> <span class="pre">install</span> <span class="pre">--prefix=$HOME</span></code>, if that is the correct installation location.</li>
<li>Try the modified code.</li>
</ol>
</div>
<div class="section" id="packages">
<h2>Packages<a class="headerlink" href="#packages" title="Permalink to this headline">¶</a></h2>
<p>This software installs as the acert.hfesr package. Once it is installed,
Python scripts in any directory can import modules from that package:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">acert.hfesr.util</span> <span class="kn">as</span> <span class="nn">io</span>
<span class="kn">import</span> <span class="nn">acert.hfesr.plot</span> <span class="kn">as</span> <span class="nn">plot</span>
<span class="n">exp</span><span class="o">=</span><span class="n">io</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s1">&#39;FirstFID&#39;</span><span class="p">)</span>
<span class="n">p</span><span class="o">=</span><span class="n">plot</span><span class="o">.</span><span class="n">plotfid</span><span class="p">(</span><span class="n">exp</span><span class="p">)</span>
</pre></div>
</div>
<p>This documentation doesn&#8217;t include the full package names. Remember
to include them when writing scripts.</p>
</div>
<div class="section" id="configuration-files">
<h2>Configuration Files<a class="headerlink" href="#configuration-files" title="Permalink to this headline">¶</a></h2>
<p>There is an initialization file for HFESR, located in three possible places. The later places on the list override the earlier ones.</p>
<dl class="function">
<dt id="util.get_config">
<code class="descclassname">util.</code><code class="descname">get_config</code><span class="sig-paren">(</span><em>section</em>, <em>option</em>, <em>default_value=None</em><span class="sig-paren">)</span><a class="headerlink" href="#util.get_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a value from a configuration file 95GHz.cfg in</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">/usr/lib/hfesr</span></code></li>
<li><code class="docutils literal"><span class="pre">~/lib/hfesr</span></code>, or</li>
<li>the current directory.</li>
</ul>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>section</strong> &#8211; The title in brackets in the config file.</li>
<li><strong>option</strong> &#8211; The name on the left-hand side of the equals sign.</li>
<li><strong>default_value</strong> &#8211; Value to return if the option is not found.
Will return None, otherwise.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">The string value on the right-hand side of the equals.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<p>The configuration file is a key=value format where comment lines can start with a hash or semicolon.:</p>
<div class="highlight-python"><div class="highlight"><pre>[General]
# Can be debug, info, warn, error
# All messages at or above this level will be shown.
logging_level=info
results_directory=/results

[Spectrometer]
# chase or pulseblaster
signal_generator=chase

[DWG11000]
# Looping slower than this in hz use OS timer to repeat signal.
on_board_threshhold=500
# Looping a signal faster than this is not allowed.
max_rep_rate=20000
# The board sends 64ns chunks of signals. Fixed by the board.
segment_size=64
# Max loops a single segment can do. Fixed by the board.
max_iterations=16384
</pre></div>
</div>
<p>The tune mode needs to know how large a window to show. Right now it is set by creating a file called $HOME/.Xresources and adding a line that says &#8220;Xplot.geometry: 1024x256&#8221;.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Installation</a><ul>
<li><a class="reference internal" href="#requirements">Requirements</a></li>
<li><a class="reference internal" href="#download">Download</a></li>
<li><a class="reference internal" href="#packages">Packages</a></li>
<li><a class="reference internal" href="#configuration-files">Configuration Files</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">Welcome to 95 GHz ESR&#8217;s documentation!</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="spectrometer.html"
                        title="next chapter">Spectrometer</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/install.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="spectrometer.html" title="Spectrometer"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Welcome to 95 GHz ESR’s documentation!"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">95 GHz ESR Software 0.9 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2016, John Franck, Drew Dolgert, Curt Dunnam.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.5.
    </div>
  </body>
</html>